(function(e){function t(t){for(var o,r,s=t[0],u=t[1],h=t[2],d=0,c=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(c.length)c.shift()();return a.push.apply(a,h||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var h=0;h<s.length;h++)t(s[h]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=n("ee98"),a=n.n(i),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("notifications",{attrs:{group:"timer"}}),e.notificationGranted?n("MainApp"):n("span",[n("p",[e._v("Allow notification to run this app")]),n("button",{on:{click:e.grantNotification}},[e._v("Grant notification permission")]),n("button",{on:{click:function(t){e.notificationGranted=!0}}},[e._v("Skip")])])],1)},s=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-app"},[n("video",{ref:"screenLock",staticClass:"screen-lock",attrs:{src:"res/white.mp4",loop:"",muted:""},domProps:{muted:!0}}),n("h1",[e._v("NoBrowserTimer")]),n("div",{staticClass:"quote-container"},[n("div",{staticClass:"quote"},[e._v(e._s(e.quote))])]),n("svg",{ref:"timebox",staticClass:"timebox",attrs:{viewBox:"0 0 100 100"},on:{mousedown:e.onSVGInteraction,mousemove:e.onSVGInteraction,mouseup:e.onSVGInteraction}},[n("path",{attrs:{d:e.getArcPath(360),fill:"#f3f3f3","fill-rule":"evenodd"}}),n("path",{attrs:{d:e.getArcPath(e.imageShownTime/3600*360),fill:"#a1df8b","fill-rule":"evenodd"}}),n("text",{staticClass:"text",attrs:{x:"50",y:"50","dominant-baseline":"middle"}},[e._v(e._s(e.sec2Time(e.imageShownTime)))])]),n("div",{staticClass:"checkboxes"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.useSound,expression:"useSound"}],attrs:{type:"checkbox",id:"useSound",disabled:e.isRunning},domProps:{checked:Array.isArray(e.useSound)?e._i(e.useSound,null)>-1:e.useSound},on:{change:function(t){var n=e.useSound,o=t.target,i=!!o.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);o.checked?r<0&&(e.useSound=n.concat([a])):r>-1&&(e.useSound=n.slice(0,r).concat(n.slice(r+1)))}else e.useSound=i}}}),n("label",{attrs:{for:"useSound"}},[e._v("Use sound")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.allowHiddenTab,expression:"allowHiddenTab"}],attrs:{type:"checkbox",id:"allowHiddenTab",disabled:e.isRunning},domProps:{checked:Array.isArray(e.allowHiddenTab)?e._i(e.allowHiddenTab,null)>-1:e.allowHiddenTab},on:{change:function(t){var n=e.allowHiddenTab,o=t.target,i=!!o.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);o.checked?r<0&&(e.allowHiddenTab=n.concat([a])):r>-1&&(e.allowHiddenTab=n.slice(0,r).concat(n.slice(r+1)))}else e.allowHiddenTab=i}}}),n("label",{attrs:{for:"allowHiddenTab"}},[e._v("Allow hidden tab")])]),e.isRunning?e._e():n("button",{staticClass:"button-start",on:{click:e.onStart}},[e._v("Start timer")]),e.isRunning?n("button",{staticClass:"button-stop",on:{click:e.onInterrupt}},[e._v("Interrupt timer")]):e._e()])},h=[],l=(n("a15b"),n("e19f"));function d(e,t,n,o){var i=(o-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}function c(){return(new Date).getTime()/1e3}function m(e){return e=e+.5|0,Object(l["sprintf"])("%02d:%02d",e/60|0,e%60)}var f,g,p=o["default"].observable({value:!0});function y(){document[g]?p.value=!1:p.value=!0}"undefined"!==typeof document.hidden?(g="hidden",f="visibilitychange"):"undefined"!==typeof document.msHidden?(g="msHidden",f="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(g="webkitHidden",f="webkitvisibilitychange"),"undefined"===typeof document.addEventListener||"undefined"===typeof document[g]?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(f,y,!1);var w=["“Take time to deliberate; but when the time for action arrives, stop thinking and go in.” – Napoleon Bonaparte","“In a moment of decision, the best thing you can do is the right thing to do, the next best thing is the wrong thing, and the worst thing you can do is nothing.” – Theodore Roosevelt","“Getting an idea should be like sitting on a pin; it should make you jump up and do something.” – E.L. Simpson","“Following-through is the only thing that separates dreamers from people that accomplish great things.” – Gene Hayden","“The only difference between success and failure is the ability to take action.” – Alexander Graham Bell","“Nothing is less productive than to make more efficient what should not be done at all.” – Peter Drucker","“Things may come to those who wait, but only the things left by those who hustle.” – Abraham Lincoln","“Concentrate all your thoughts upon the work in hand. The sun’s rays do not burn until brought to a focus.” – Alexander Graham Bell","“If you procrastinate when faced with a big difficult problem… break the problem into parts, and handle one part at a time.”– Robert Collier","“One of the most tragic things I know about human nature is that all of us tend to put off living. We are all dreaming of some magical rose garden over the horizon – instead of enjoying the roses blooming outside our windows today.” – Dale Carnegie","“Don’t put off for tomorrow what you can do today because if you enjoy it today, you can do it again tomorrow.” – James A. Michener","“Perhaps the most valuable result of an education is the ability to make yourself do the thing you have to do, when it ought to be done, whether you like it or not.” – Thomas Huxley","“My advice is to never do tomorrow what you can do today. Procrastination is the thief of time.” – Charles Dickens","“Often just by taking action, by doing something about the situation can relieve the stress and help correct the situation.” – Catherine Pulsifer","“To do anything in this world worth doing, we must not stand back shivering and thinking of the cold and danger, but jump in and scramble through as well as we can.” – Sydney Smith","“Procrastination is opportunity’s natural assassin.” – Victor Kiam","“Begin doing what you want to do now. We are not living in eternity. We have only this moment, sparkling like a star in our hand—and melting like a snowflake.” – Francis Bacon","“Anything worth putting off is worth abandoning altogether.” – Epictetus","“During a very busy life I have often been asked, “How did you manage to do it all?” The answer is very simple. It is because I did everything promptly.” – Richard Tangye","“Begin to weave and God will give you the thread.” – German Proverb","“The habit of always putting off an experience until you can afford it, or until the time is right, or until you know how to do it is one of the greatest burglars of joy. Be deliberate, but once you’ve made up your mind–jump in.” – Charles R. Swindoll","“It is not because things are difficult that we do not dare, it is because we do not dare that they are difficult.” – Seneca","“Never put off for tomorrow, what you can do today.” – Thomas Jefferson","“The really happy people are those who have broken the chains of procrastination, those who find satisfaction in doing the job at hand. They’re full of eagerness, zest, productivity. You can be, too.” – Norman Vincent Peale","“A year from now you may wish you had started today.” – Karen Lamb","“The least productive people are usually the ones who are most in favor of holding meetings.” – Thomas Sowell","“A primary reason people don’t do new things is because they want to do them perfectly – first time. It’s completely irrational, impractical, not workable – and yet, it’s how most people run their lives. It’s called The Perfection Syndrome.” – Peter McWilliams and John Roger","“Time wasted is existence; used is life.” – Edward Young","“Often greater risk is involved in postponement than in making a wrong decision.” – Harry A. Hopf","“A perfect method for adding drama to life is to wait until the deadline looms large.” – Alyce P. Cornyn-Selby","“If you believe you can accomplish everything by “cramming” at the eleventh hour, by all means, don’t lift a finger now. But you may think twice about beginning to build your ark once it has already started raining.” – Max Brooks","“There is nothing so fatal to character as half finished tasks.” – David Lloyd George","“Regret for the things we did can be tempered by time; it is regret for the things we did not do that is inconsolable.” – Sydney Harris","“How does a project get to be a year behind schedule? One day at a time.” – Fred Brooks","“Someday is not a day of the week.” – Janet Dailey","“Don’t wait for someone to take you under their wing. Find a good wing and climb up underneath it.” – Frank C. Bucaro","“Procrastination is the lazy cousin of fear. When we feel anxiety around an activity, we postpone it.” – Noelle Hancock","“Success is not obtained overnight. It comes in instalments; you get a little bit today, a little bit tomorrow until the whole package is given out. The day you procrastinate, you lose that day’s success.” – Israelmore Ayivor","“By what right do I, who have wasted this day, make claims on tomorrow?” – Alain Fournier","“If you have goals and procrastination you have nothing. If you have goals and you take action, you will have anything you want.” – Thomas J. Vilord","“You can’t get much done in life if you only work on the days when you feel good.” – Jerry West","“We all sorely complain of the shortness of time, and yet have much more than we know what to do with. Our lives are either spent in doing nothing at all, or in doing nothing to the purpose, or in doing nothing that we ought to do. We are always complaining that our days are few, and acting as though there would be no end of them.” – Seneca","“Procrastination is, hands down, our favorite form of self-sabotage.” – Alyce P. Cornyn-Selby","“We must be diligent today. To wait until tomorrow is too late. Death comes unexpectedly. How can we bargain with it?” – Buddha","“Don’t wait. The time will never be just right.” – Napoleon Hill","“Nothing is so fatiguing as the eternal hanging on of an uncompleted task.” – William James","“It is easier to resist at the beginning than at the end.” – Leonardo da Vinci","“The man who waits to know everything is the man who never does anything.”– Craig D. Lounsbrough","“Doing things at the last minute reminds us of the importance of doing things at the first minute.” – Matshona Dhliwayo","“Procrastination is like going to a fancy restaurant and filling up on bread and not leaving enough room for dinner.” – Richie Norton","“If you want to get ahead in life, I’ve found that perhaps the most useless word in the world is “tomorrow.” – José N. Harris","“You can’t just turn on creativity like a faucet. You have to be in the right mood. What mood is that? Last-minute panic.” – Bill Watterson","“One of the greatest labor-saving inventions of today is tomorrow.” – Vincent T. Foss","“The two rules of procrastination: 1) Do it today. 2) Tomorrow will be today tomorrow.” – Author Unknown","“What may be done at any time will be done at no time.” – Scottish Proverb","“Tomorrow is often the busiest day of the week.” – Spanish Proverb","“The best way to get something done is to begin.” – Author Unknown","“I remember reading somewhere about an organization called Procrastinators Anonymous. I think they had been in existence for some years but had never gotten around to having a meeting.” – Unknown","“How soon not now, becomes never.” – Martin Luther","“In delay there lies no plenty.” – William Shakespeare","“Neither a wise nor a brave man lies down on the tracks of history to wait for the train of the future to run over him.” – Dwight D. Eisenhower","“It was my fear of failure that first kept me from attempting the master work. Now, I’m beginning what I could have started ten years ago. But I’m happy at least that I didn’t wait twenty years.” – Paulo Coelho","“Motivation is what gets you started. Habit is what keeps you going.” – Jim Rohn","“Procrastination is the fear of success. People procrastinate because they are afraid of the success that they know will result if they move ahead now. Because success is heavy, carries a responsibility with it, it is much easier to procrastinate and live on the ‘someday I’ll’ philosophy.” – Denis Waitley","“Begin while others are procrastinating. Work while others are wishing.” – William Arthur Ward","“He who every morning plans the transactions of that day and follows that plan carries a thread that will guide him through the labyrinth of the most busy life.” – Victor Hugo","“Anyone can do any amount of work, provided it isn’t the work he is supposed to be doing at that moment” – Robert Benchley"],b=45,v=35;function k(e){e.pause(),e.currentTime=0,e.play()}var T={name:"MainApp",data:function(){var e=c();return{isRunning:!1,timerStartTime:null,currentTime:e,duration:900,offStartTime:null,useSound:!0,allowHiddenTab:!1}},computed:{quote:function(){var e=(this.currentTime/60|0)%137597432%758353%6421%w.length;return w[e]},imageShownTime:function(){if(this.isRunning){var e=this.timerStartTime+this.duration-this.currentTime;return Math.max(0,e)}return this.duration},timerElapsedTime:function(){return this.isRunning?this.currentTime-this.timerStartTime:0},isActiveTab:function(){return p.value}},mounted:function(){this.timerUpdater=setInterval(this.onInterval,500),this.bellSound=new Audio("res/bell.mp3"),this.alertSound=new Audio("res/alert.mp3"),this.resumeSound=new Audio("res/resume.mp3"),this.resumeSound.volume=.6,this.interruptSound=new Audio("res/interrupt.mp3"),this.interruptSound.volume=.5,window.addEventListener("beforeunload",this.onInterrupt)},beforeDestroy:function(){clearInterval(this.timerUpdater),window.removeEventListener("beforeunload",this.onInterrupt)},methods:{getArcPath:function(e){if(e>360&&(e=360),e<0&&(e=0),360===e)return["M",50,50-b,"A",b,b,0,0,0,50,50+b,"A",b,b,0,0,0,50,50-b,"M",50,50-v,"A",v,v,0,0,0,50,50+v,"A",v,v,0,0,0,50,50-v].join(" ");var t={x:50,y:50-b},n=d(50,50,b,e),o=d(50,50,v,e),i={x:50,y:50-v},a=e>=180?1:0;return["M",t.x,t.y,"A",b,b,0,a,1,n.x,n.y,"L",o.x,o.y,"A",v,v,0,a,0,i.x,i.y,"L",t.x,t.y].join(" ")},sec2Time:m,onInterval:function(){this.currentTime=c(),!this.isActiveTab&&this.isRunning&&this.offStartTime&&c()-this.offStartTime>=15&&this.onInterrupt()},onSVGInteraction:function(e){if(!this.isRunning&&("mousemove"!==e.type||0!==e.buttons)){var t=e.clientX,n=e.clientY,o=this.$refs.timebox.getBoundingClientRect(),i=o.left,a=o.top,r=o.width,s=o.height,u=(t-i)/r*100-50,h=(n-a)/s*100-50,l=Math.sqrt(u*u+h*h);if(v<=l&&l<=b){var d=Math.atan2(u,-h)/Math.PI*180;d<0&&(d+=360);var c=30*(d/3+.5|0);this.duration=c}}},onStart:function(){this.$notify({group:"timer",title:"Starting timer",text:"Duration: ".concat(m(this.duration))}),this.timerStartTime=c(),this.isRunning=!0,this.offStartTime=null,this.$refs.screenLock.play(),k(this.resumeSound)},stopTimer:function(){this.timerStartTime=null,this.isRunning=!1,this.$refs.screenLock.pause()},onInterrupt:function(){this.isRunning&&(new Notification("Timer interuptted"),this.$notify({group:"timer",type:"warn",title:"Timer interrupted. Elapsed: ".concat(m(this.timerElapsedTime))}),this.stopTimer(),this.useSound&&k(this.interruptSound))},onEnd:function(){new Notification("Timer done: ".concat(m(this.duration))),this.$notify({group:"timer",title:"Timer done!",text:"Duration: ".concat(m(this.duration))}),this.stopTimer(),this.useSound&&k(this.bellSound)}},watch:{imageShownTime:function(e){this.isRunning&&0===e&&this.onEnd()},isActiveTab:function(e){if(this.isRunning){if(this.allowHiddenTab)return;if(!1===e){var t=new Notification("Come back within 15 seconds to preserve timer!");setTimeout((function(){return t.close()}),6e3),this.offStartTime=c(),this.useSound&&k(this.alertSound)}else{var n=new Notification("Glad you're back");setTimeout((function(){return n.close()}),5e3),this.offStartTime=null,this.useSound&&(this.alertSound.pause(),k(this.resumeSound))}}}}},S=T,A=(n("c515"),n("2877")),I=Object(A["a"])(S,u,h,!1,null,"dca24abe",null),x=I.exports,P={name:"App",data:function(){return{notificationGranted:"granted"===Notification.permission}},components:{MainApp:x},methods:{grantNotification:function(){Notification.requestPermission().then(this.onNotificationPermission)},onNotificationPermission:function(e){"granted"===e&&(this.notificationGranted=!0)}}},H=P,_=(n("5c0b"),Object(A["a"])(H,r,s,!1,null,null,null)),j=_.exports;o["default"].config.productionTip=!1,o["default"].use(a.a),new o["default"]({render:function(e){return e(j)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("9c0c"),i=n.n(o);i.a},"9c0c":function(e,t,n){},c515:function(e,t,n){"use strict";var o=n("e099"),i=n.n(o);i.a},e099:function(e,t,n){}});
//# sourceMappingURL=app.ccc8c69f.js.map